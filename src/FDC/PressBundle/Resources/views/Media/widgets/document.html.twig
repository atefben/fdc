{% trans_default_domain 'FDCPressBundle' %}
{% set trans = widget.image.findTranslationByLocale(app.request.locale) %}
{% if trans is null or trans.file is null %}
    {% set trans = widget.image.findTranslationByLocale('fr') %}
{% endif %}
{% set file = trans.file %}

{% set sizeClass = 'portrait' %}
{% set format = '240x326' %}
{% if file.width > 250 %}
{% set sizeClass = 'landscape' %}
{% set format = '543x326' %}
{% endif %}

<div class="{{ sizeClass }}">
    {% thumbnail file, 'reference' with {'alt': widget.image|trans_fallback('alt')} %}
    <span class="caption">{{ widget|trans_fallback('copyright') }}</span>
    <p>{{ widget|trans_fallback('label')|raw }}</p>
    {{ widget|trans_fallback('content')|raw }}
    <div class="buttons">
        <a href="{% path widget.file, format %}" class="button" target="_blank" download>
            <i class="icon icon_telecharger"></i>{{ widget|trans_fallback('btnLabel') }}
        </a>
        {% if widget.secondFile is not null %}
            <a href="{% path widget.secondFile, 'reference' %}" class="button"  target="_blank" download>
                <i class="icon icon_telecharger"></i>{{ widget|trans_fallback('secondBtnLabel') }}
            </a>
        {% endif %}
        {% if widget.thirdFile is not null %}
            <a href="{% path widget.thirdFile, 'reference' %}" class="button"  target="_blank" download>
                <i class="icon icon_telecharger"></i>{{ widget|trans_fallback('secondBtnLabel') }}
            </a>
        {% endif %}
    </div>
</div>