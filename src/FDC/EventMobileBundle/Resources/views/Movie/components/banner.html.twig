{% trans_default_domain 'FDCEventBundle' %}

    <div id="player"{% if movie.videoMain is not null and is_available_video(movie.videoMain) %} data-video="{{ s3_server_video ~ movie.videoMain.mp4Url }}"{% endif %} data-poster="{% include 'FDCEventBundle:Global:components/film.cover.html.twig' with ({
        film: movie,
        film_format: '976x535',
        display_film_path: true,
        film_image_default: 'bundles/fdcevent/img/palmares/film_w2560.jpg',
        })
    %}">
    </div>

    <div class="pictos-nav">
        <div class="back"><i class="icon-mobile-return"></i></div>
        <div class="calendar"><i class="icon icon_programmation"></i></div>
    </div>

    <div class="info-film">
        <div class="categories">
            <span>{{ movie.selectionSection|trans_fallback('name') }}{% if movie.selectionSubsection %}{{ movie.selectionSubsection|trans_fallback('name') }}{% endif %}</span>
            {% if movie.directorFirst %}
                <span>{{ 'movie.director_first'|trans }}</span>
            {% endif %}
            {% if 'Ouverture' in movie.galaName %}
                <span>{{ 'movie.fdc_open'|trans }}</span>
            {% elseif 'Fermeture' in movie.galaName or 'Cl√¥ture' in movie.galaName %}
                <span>{{ 'movie.fdc_close'|trans }}</span>
            {% endif %}
        </div>
        {% set secondTitle = null %}
        {% if movie|trans_fallback_movie('title') is not empty and movie|trans_fallback_movie('title') != movie.titleVO %}
            {% set mainTitle = movie.titleVO %}
			{% set secondTitle = movie|trans_fallback_movie('title') %}
        {% else %}
            {% set mainTitle = movie.titleVO %}
        {% endif %}
        <h2>{{ mainTitle }}</h2>
        {% if secondTitle and mainTitle != secondTitle %}
            <div class="title-original">({{ secondTitle }})</div>
        {% else %}
            <div class="title-original"></div>
        {% endif %}
        <p>
            {{ 'movie.label.realisepar'|trans }} :
            {% set directors = movie|film_function(constant('Base\\CoreBundle\\Entity\\FilmFunction::FUNCTION_DIRECTOR')) %}
            {% for director in directors %}
                {%- if director.asianName -%}
                    <a href="{{- path('fdc_eventmobile_artist_get', {slug: director.slug }) -}}" class="director">
                        {{- director.lastName ~ ' ' ~ director.firstName -}}
                    </a>
                {%- else -%}
                    <a href="{{- path('fdc_eventmobile_artist_get', {slug: director.slug }) -}}" class="director">
                        {{- director.fullName -}}
                    </a>
                {%- endif -%}
                {%- if loop.index != directors|length %}, {% endif -%}
            {% endfor %}
        </p>
        <p>
        {% if movie.productionYear is not null and movie.productionYear != 0 %}
            {{ 'movie.label.anneedeproduction'|trans }} : <span>{{ movie.productionYear }}</span>
        {% endif %}
        {% if movie.countries|length > 0 %}
            {{ 'movie.label.pays'|trans }} : {% for country in movie.countries %}{% if loop.index != movie.countries|length %}<span id="TetiereMovieCountry">{{ country.country|trans_fallback('name')|replace({' ': ""}) }}, </span>{% else %}<span>{{ country.country|trans_fallback('name')|replace({' ': ""}) }}</span>{% endif %}{% endfor %}
        {% endif %}
        </p>
        {% if movie.duration is not null and movie.duration > 0 %}
            {% set duration = movie.duration|split('.') %}
            <p>{{ 'movie.label.duree'|trans }} : {% if duration|length >= 1 %}<span>{{ duration[0] }} {{ 'movie.duration.minutes'|trans }}</span>{% endif %}</p>
        {% endif %}
        {% if movie.publishedAt is not null %}
            <p>{{ 'movie.label.datedesortie'|trans }} : <span>{{ movie.publishedAt|localizeddate('long', 'none', app.request.locale) }}</span></p>
        {% endif %}
    </div>
</div>
<div class="container movie">
	{% if movie.awards|length > 0 %}
    <div class="section prize">
        {% set awardsUnique = [] %}
        {% for movieAward in movie.awards %}
            {% if movieAward.award and movieAward.award.prize %}
                {% if movieAward.award.id not in awardsUnique %}
                    {% set awardsUnique = awardsUnique|merge([movieAward.award.id]) %}
                    <div class="palmares-item"><i class="icon icon_palme"></i><p class="prize-name">{{ movieAward.award.prize|trans_fallback('title') }}, {{  movieAward.award.festival.year }}</p></div>
                {% endif %}
            {% endif %}
        {% endfor %}
    </div>
	{% endif %}
    <div class="section synopsis">
        <h3 class="title-section">{{ 'movie.title.synopsis'|trans }}</h3>
        <p>{{ movie|trans_fallback('synopsis')|nl2br|raw }}</p>
    </div>
</div>