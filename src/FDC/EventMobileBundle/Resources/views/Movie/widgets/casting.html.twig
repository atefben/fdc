{% trans_default_domain 'FDCEventBundle' %}

{% if movie.persons|length > 0 %}
    <div class="casting" data-section="casting">
        {#{% set medias = movie|film_media(constant('Base\\CoreBundle\\Entity\\FilmFilmMedia::TYPE_DIRECTOR'), true) %}#}
        <div class="content">
            <div class="vCenter">
                <div class="vCenterKid">
                    {% if movie.getCredits()|length > 0 %}
                        <div class="section credits">
                            <h3 class="title-section">{{ 'movie.title.credits'|trans }}</h3>
                            {% for filmPerson in movie.getCredits() %}
                                <p> {% include 'FDCEventMobileBundle:Movie:widgets/check_asian_name.html.twig' with {'person': filmPerson.person} %}
                                   {% if filmPerson.functions  %} - {% endif %}
                                    {% for personFunction in filmPerson.functions %}
                                        {{ filmPerson.person|person_function_gender(personFunction.function, 'name') }}
                                    {% endfor %}
                                </p>
                            {% endfor %}
                        </div>
                    {% endif %}
                    {% if movie.getActors()|length > 0 %}
                        <div class="section actors">
                            <h3 class="title-section">{{ 'movie.title.casting'|trans }}</h3>
                            {% for filmPerson in movie.getActors() %}
                                <p>{% include 'FDCEventMobileBundle:Movie:widgets/check_asian_name.html.twig' with {'person': filmPerson.person} %}
                                    {% if filmPerson|trans_fallback('role') is not null and filmPerson|trans_fallback('role') != '' %}
                                        - {{ filmPerson|trans_fallback('role') }}
                                    {% endif %}
                                </p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
{% endif %}