{% trans_default_domain 'FDCEventBundle' %}
{% if videos|length > 0 %}
    <div class="section videos" data-section="videos">
        <h3 class="title-section">
            {{ 'movie.middlenav.videos'|trans }}
        </h3>

        <div class="slideshow">
            <div class="slideshow-img">
                <div class="video">
                    {% set videoImage = null %}
                    {% set amazonImage = null %}
                    {% if videos[0].mediaVideo.image %}
                        {% set videoImage = media_public_url(videos[0].mediaVideo.image|trans_fallback('file'), '586x370') %}
                    {% elseif videos[0].mediaVideo|trans_fallback('imageAmazonUrl') %}
                        {% set amazonImage = s3_server_video ~ videos[0].mediaVideo|trans_fallback('imageAmazonUrl') %}
                    {% endif %}

                    <img src="{{ videoImage }}" alt="" />
                    <div class="info">
                        <div class="picto"><i class="icon icon_video"></i></div>
                        <div class="info-container">
                            <div class="vCenter">
                                <div class="vCenterKid">
                                    <span class="category mainCategory">{{ videos[0].mediaVideo.theme|trans_fallback('name') }}</span>
                                    <span class="date">{{ videos[0].mediaVideo.publishedAt()|date('d/m/Y') }}</span>
                                    .
                                    <span class="hour">{{ agenda_leftbar_translate_hour(videos[0].mediaVideo.publishedAt()|date('H:i'), true, true) }}</span>
                                    <a href="#" class="titleLink">{{ videos[0].mediaVideo|trans_fallback('title') }}</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="owl-carousel thumbnails">
                    {% for video in videos %}
                        {% set video = video.mediaVideo %}
                        {% if video.image %}
                            {% set videoImage = media_public_url(video.image|trans_fallback('file'), '586x370') %}
                        {% elseif video|trans_fallback('imageAmazonUrl') %}
                            {% set videoImage = s3_server_video ~ video|trans_fallback('imageAmazonUrl') %}
                        {% endif %}

                        <div data-id="video{{ loop.index }}"
                             class="thumb {% if loop.first %}active{% endif %}"
                             data-category="{{ video.theme|trans_fallback('name') }}"
                             data-title="{{ video|trans_fallback('title') }}"
                             data-img="{{ videoImage }}"
                             data-date="{{ video.publishedAt()|date('d/m/Y') }}"
                             data-hour="{{ video.publishedAt()|date('H:i') }}">
                            <img src="{{ videoImage }}" />
                            <div class="info">
                                <div class="picto"><i class="icon icon_video"></i></div>
                                <div class="info-container">
                                    <div class="vCenter">
                                        <div class="vCenterKid">
                                            <span class="category">{{ video.theme|trans_fallback('name') }}</span>
                                            <a href="#" class="titleLink">{{ video|trans_fallback('title') }}</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
{% endif %}
