services:
    #soif logger
    fdc.soif.logger_manager:
        class: FDC\SoifBundle\Manager\LoggerManager
        calls:
            - ['setSoifLog', ['%soif_log%']]
            - ['setSoifLogDirectory', ['%soif_log_directory%']]
    #soif core
    fdc.soif.core_manager:
        abstract: true
        class: FDC\SoifBundle\Manager\CoreManager
        calls:
            - ['setEntityManager', ['@doctrine.orm.entity_manager']]
            - ['setLogger', ['@logger']]
            - ['setSoifLogger', ['@fdc.soif.logger_manager']]
            - ['setWebserviceUrl', ['%soif_url%']]
            - ['setValidator', ['@validator']]

    #soif children
    fdc.soif.award_manager:
        parent: fdc.soif.core_manager
        class: FDC\SoifBundle\Manager\AwardManager
        arguments: ['@fdc.soif.festival_manager', '@fdc.soif.prize_manager']

    fdc.soif.country_manager:
        parent: fdc.soif.core_manager
        class: FDC\SoifBundle\Manager\CountryManager
        arguments: []

    fdc.soif.festival_manager:
        parent: fdc.soif.core_manager
        class: FDC\SoifBundle\Manager\FestivalManager
        arguments: []

    fdc.soif.festival_poster_manager:
        parent: fdc.soif.core_manager
        class: FDC\SoifBundle\Manager\FestivalPosterManager
        arguments: ['@fdc.soif.festival_manager', '@fdc.soif.media_stream_manager']

    fdc.soif.film_manager:
        parent: fdc.soif.core_manager
        class: FDC\SoifBundle\Manager\FilmManager
        arguments: ['@fdc.soif.festival_manager', '@fdc.soif.media_manager', '@fdc.soif.person_manager']

    fdc.soif.film_atelier_manager:
        parent: fdc.soif.core_manager
        class: FDC\SoifBundle\Manager\FilmAtelierManager
        arguments: ['@fdc.soif.festival_manager', '@fdc.soif.person_manager']

    fdc.soif.jury_manager:
        parent: fdc.soif.core_manager
        class: FDC\SoifBundle\Manager\JuryManager
        arguments: ['@fdc.soif.festival_manager', '@fdc.soif.person_manager']

    fdc.soif.jury_function_manager:
        parent: fdc.soif.core_manager
        class: FDC\SoifBundle\Manager\JuryFunctionManager
        arguments: []

    fdc.soif.media_manager:
        parent: fdc.soif.core_manager
        class: FDC\SoifBundle\Manager\MediaManager
        arguments: ['@fdc.soif.festival_manager', '@fdc.soif.media_stream_manager']

    fdc.soif.media_stream_manager:
        parent: fdc.soif.core_manager
        class: FDC\SoifBundle\Manager\MediaStreamManager
        arguments: []
        calls:
            - ['setSonataMediaManager', ['@sonata.media.manager.media']]
            - ['setSoifUploadDirectory', ['%soif_upload_directory%']]

    fdc.soif.person_manager:
        parent: fdc.soif.core_manager
        class: FDC\SoifBundle\Manager\PersonManager
        arguments: []

    fdc.soif.prize_manager:
        parent: fdc.soif.core_manager
        class: FDC\SoifBundle\Manager\PrizeManager
        arguments: []

    fdc.soif.projection_manager:
        parent: fdc.soif.core_manager
        class: FDC\SoifBundle\Manager\ProjectionManager
        arguments: ['@fdc.soif.festival_manager']