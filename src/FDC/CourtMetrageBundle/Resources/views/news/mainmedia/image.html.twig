{% if mediaImage is null and gallery.medias|length == 1 %}
    {% include '@FDCCourtMetrage/news/mainmedia/article.html.twig' with {'mediaImage': gallery.medias[0].media} %}
{% elseif gallery.medias|length > 1 %}
    <div class="slideshow">
        <div class="slideshow-img">
            <div class="images">
                {% if mediaImage is not null %}
                    {% include '@FDCCourtMetrage/news/partials/gallery_image.html.twig' with {'mediaImage': mediaImage, 'galleryId': gallery.id, 'index': 1} only %}
                {% endif %}
                {% for image in gallery.medias %}
                    {% include '@FDCCourtMetrage/news/partials/gallery_image.html.twig' with {'mediaImage': image.media, 'galleryId': gallery.id, 'index': loop.index + (mediaImage is not null ? 1 : 0)} only %}
                {% endfor %}
            </div>
            <div class="owl-carousel thumbnails">
                {% if mediaImage is not null %}
                    {% include '@FDCCourtMetrage/news/partials/gallery_thumbnail.html.twig' with {'mediaImage': mediaImage, 'index': 1} only %}
                {% endif %}
                {% for image in gallery.medias %}
                    {% include '@FDCCourtMetrage/news/partials/gallery_thumbnail.html.twig' with {'mediaImage': image.media, 'index': loop.index + (mediaImage is not null ? 1 : 0)} only %}
                {% endfor %}
            </div>
        </div>
        {% if mediaImage is not null %}
            <p class="caption">{{ mediaImage|trans_fallback('legend') ~ ' © ' ~  mediaImage|trans_fallback('copyright') }}</p>
        {% elseif gallery.medias[0] is defined %}
            <p class="caption">{{ gallery.medias[0].media|trans_fallback('legend') ~ ' © ' ~  gallery.medias[0].media|trans_fallback('copyright') }}</p>
        {% endif %}
    </div>
{% endif %}