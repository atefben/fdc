{% spaceless %}
{% set posterImg = film|film_media(constant('Base\\CoreBundle\\Entity\\FilmFilmMedia::TYPE_POSTER'))|first %}
{% set mainImg = film|film_media(constant('Base\\CoreBundle\\Entity\\FilmFilmMedia::TYPE_MAIN'))|first %}
{% set photoImg = film|film_media(constant('Base\\CoreBundle\\Entity\\FilmFilmMedia::TYPE_FILM'))|first %}


{% if film_attrs is not defined %}
    {% set film_attrs = {'alt': (film|trans_fallback('title')?:movie.titleVO)} %}
{% endif %}

{% if format is not defined %}
    {% set film_format = 'small' %}
{% endif %}

{% if display_film_path is defined and display_film_path %}
    {% if posterImg %}
        {% path posterImg, film_format %}
    {% elseif mainImg %}
        {% path mainImg, film_format %}
    {% elseif photoImg %}
        {% path photoImg, film_format %}
    {% else %}
        {{ asset('bundles/fdcevent/img/palmares/film.jpg') }}
    {% endif %}
{% else %}
    {% if posterImg %}
        {% media posterImg, film_format with film_attrs %}
    {% elseif mainImg %}
        {% media mainImg, film_format with film_attrs %}
    {% else %}
        <img src="{{ asset('bundles/fdcevent/img/palmares/film_w256.jpg') }}" alt="Affiche film"/>
    {% endif %}
{% endif %}
{% endspaceless %}
