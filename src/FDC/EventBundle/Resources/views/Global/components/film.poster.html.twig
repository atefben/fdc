{% trans_default_domain 'FDCEventBundle' %}

{% spaceless %}

    {% set media = film.imageMain|trans_fallback('file') %}

    {% if media is empty %}
        {% set media = film|film_media(constant('Base\\CoreBundle\\Entity\\FilmFilmMedia::TYPE_POSTER'))|first %}
    {% endif %}
    {% if media is empty %}
        {% set media = film|film_media(constant('Base\\CoreBundle\\Entity\\FilmFilmMedia::TYPE_MAIN'))|first %}
    {% endif %}
    {% if media is empty %}
        {% set media = film|film_media(constant('Base\\CoreBundle\\Entity\\FilmFilmMedia::TYPE_FILM'))|first %}
    {% endif %}

    {% if film_attrs is not defined %}
        {% set film_attrs = {'alt': (film|trans_fallback('title')?:film.titleVO)} %}
    {% endif %}

    {% if film_format is not defined %}
        {% set film_format = 'small' %}
    {% endif %}

    {% if display_film_path is defined and display_film_path %}
        {% if media is not empty %}
            {% path media, film_format %}
        {% else %}
            {{ asset(film_image_default) }}
        {% endif %}
    {% else %}
        {% if media is not empty and film_format is not empty and film_attrs is not empty %}
            <img src="{% path media, film_format  %}"{% for key, val in film_attrs %} {{ key }}="{{ val }}"{% endfor %} {% if corpo is defined %}style="width: 183px;height: 244px;object-fit: cover;"{% endif %}>
        {% else %}
            <img src="{{ asset(film_image_default) }}" alt="{{ 'movie.poster'|trans() }}"{% if film_image_default_attrs is defined %} {{ film_image_default_attrs|raw }}{% endif %}{% if corpo is defined %}style="width: 183px;height: 244px;object-fit: cover;"{% endif %} data-object-fit="cover">
        {% endif %}
    {% endif %}
{% endspaceless %}
