{% trans_default_domain 'FDCEventBundle' %}
{% extends 'FDCEventBundle::layout.html.twig' %}

{% block body %}
    <div id="main" class="list-article films-list selection-officielle loading">
        <div class="container container-list ">
            <section class="categorie-items">
                <div class="grid">
                    <div id="gridFilmSelection" class="grid-wrapper">
                        <div class="grid-sizer"></div>
                        {% for movie in movies %}
                            <div class="item">
                                <figure>
                                    <div class="image">
                                        <a href="{{ path('fdc_event_movie_get', {'slug': movie.slug}) }}">
                                            {% include 'FDCEventBundle:Global:components/film.poster.html.twig' with ({
                                                film: movie,
                                                film_format: '240x320',
                                                film_image_default: 'bundles/fdcevent/img/palmares/film_w256.jpg',
                                            }) %}
                                        </a>
                                    </div>
                                    <figcaption>
                                        <a href="{{ path('fdc_event_movie_get', {'slug': movie.slug}) }}">
                                            {% if movie|trans_fallback_movie('title') != null and movie.titleVo != null and movie|trans_fallback_movie('title')|lower != movie.titleVo|lower %}
                                                <span class="name">{{ movie.titleVo }}</span>
                                                <span class="sub-name">({{ movie|trans_fallback_movie('title') }})</span>
                                            {% else %}
                                                <span class="name">{{ movie|trans_fallback('title')?:movie.titleVo }}</span>
                                            {% endif %}
                                        </a>
                                        {% for director in movie|film_function(constant('Base\\CoreBundle\\Entity\\FilmFunction::FUNCTION_DIRECTOR')) %}
                                            <a href="{{ path('fdc_event_artist_get', {'slug': director.slug}) }}">
                                                <span class="author">{{ director.fullName|trim }}{{ loop.last == true ? '':', '}}</span>
                                            </a>
                                        {% endfor %}
                                    </figcaption>
                                </figure>
                            </div>
                        {% endfor %}

                    </div>
                </div>
            </section>
        </div>
    </div>
{% endblock body %}